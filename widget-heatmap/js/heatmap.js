function updateTable(t){d3.selectAll("circle.ratioCirc").style("opacity",.5).attr("stroke","none"),d3.selectAll(".ratioNumber").style("display","none"),d3.selectAll(".ratioState").style("display","none"),t.id?d3.select(".region").html(t.properties.state):d3.select(".region").html(t.properties.NAME)}function init(t){function e(t,e,a){function s(t){"undefined"!=typeof i&&i.destroy(),i=new autoComplete({selector:"#search",minChars:0,source:function(e,a){e=e.toLowerCase();var s;s="states"==t?l:o;var i=[];for(c=0;c<s.length;c++)~s[c].toLowerCase().indexOf(e)&&i.push(s[c]);a(i)},onSelect:function(a,s){var i,n,r;"states"==t?(i=e.objects.states.geometries.filter(function(t){return t.properties.state==s}),n=d3.select("#fips_"+i[0].id)[0][0].__data__,r=document.getElementById("fips_"+i[0].id)):(i=csvData.filter(function(t){return t.msa==s}),r=document.getElementById("fips_"+i[0].fips),n=d3.select("#fips_"+i[0].fips)[0][0].__data__),updateTable(n),theMap.clicked(n,r)}})}mapW=parseInt(d3.select(".map").style("width")),csvData=a,csvData.forEach(function(t){t.fips.toString().length<3&&0!=t.fips?rateByStateId.set(+t.fips,+t.total_postings):t.fips.toString().length>3&&0!=t.fips&&rateByMsaId.set(+t.fips,+t.total_postings)}),dataset=d3.nest().key(function(t){return t.fips}).map(csvData),csvData.forEach(function(t){"0"!==t.fips&&(postingsArr.push(+t.total_postings),postingsArr.push(+t.total_supply))}),theMap=new heatMap({element:document.querySelector(".map"),geo:e,view:"states"});var i;d3.selectAll("input.geo").on("click",function(){theMap.view=d3.select(this).attr("val"),theMap.setView(),choices=d3.select(this).attr("val"),s(choices)}),d3.select(".map").on("click",function(){document.getElementById("search").value=""}),d3.select(window).on("resize",function(){theMap.update(),mapW=parseInt(d3.select(".map").style("width")),600>mapW?(d3.select(".leg").remove(),drawLegend(),d3.select(".instruction").remove()):mapW>600&&(d3.select(".leg").remove(),drawLegend())}),d3.selectAll(".feature").attr("fill",function(t){return t.id?(quantile.domain(rateByStateId.values()),quantile(rateByStateId.get(t.id))):"undefined"!=typeof t.properties?(quantile.domain(rateByMsaId.values()),quantile(rateByMsaId.get(t.properties.geoid))):"#fff"}),theMap.svg.append("text").attr("class","instruction").attr("x",theMap.width/1.75).attr("y",.08*theMap.height).text(function(){return mapW>600?"Click on a state or MSA for more info":""}),drawLegend(),s("states"),theMap.setView();var n=document.getElementById("prelC");n.style.display="none";var r=document.getElementById("con");r.style.opacity="1";var l=[],o=[],d=[];csvData.forEach(function(t){"0"!==t.fips&&t.fips.toString().length<3&&d.push(t.fips),"0"!==t.fips&&""!=t.msa&&o.push(t.msa)});for(var c=0;c<d.length;c++){var p=e.objects.states.geometries.filter(function(t){return t.id==d[c]});-1==l.indexOf(p[0].properties.state)&&l.push(p[0].properties.state)}var u=document.getElementById("drpdn");u.onchange=function(){var t=u.options[u.selectedIndex].value;selectedVar=t,theMap.reDraw()};d3.selectAll(".filter").on("click",function(){1==d3.select("#all").classed("pressed")?d3.selectAll(".msa").style("display","none"):"","All"!=d3.select(this).text()?d3.select(this).classed("pressed")?(d3.select(this).classed("pressed",!1),d3.selectAll("."+d3.select(this).text().toLowerCase()).style("display","none")):(d3.select("#all").classed("pressed",!1),d3.select(this).classed("pressed",!0),d3.selectAll("."+d3.select(this).text().toLowerCase()).style("display","block")):(d3.selectAll(".filter").classed("pressed",!1),d3.select("#all").classed("pressed",!0),d3.selectAll(".msa").style("display","block"))}),d3.selectAll(".infIcon").on("click",function(){d3.select("#b"+d3.select(this).attr("rel")).style("display","block")}),d3.selectAll(".closeBtn").on("click",function(){d3.select("#b"+d3.select(this).attr("rel")).style("display","none")})}rateByStateId=d3.map(),rateByMsaId=d3.map(),quantile=d3.scale.quantile().range(colorbrewer.PuBu[7]),queue().defer(d3.json,"data/us_states_msa.json").defer(d3.csv,"data/"+t+".csv").await(e),console.log(t)}function setLegendLabel(t,e){var a=[0,.67,.83,1.2,1.5,8];if("states"==theMap.view){var s=rateByStateId.values().filter(isBigEnough(1.01));quantile.domain(s);var i=[0,.5,.99,1,quantile.invertExtent(quantile.range()[4])[0],quantile.invertExtent(quantile.range()[5])[0],quantile.invertExtent(quantile.range()[6])[1]];"location_quotient"==selectedVar?quantile.domain(a):"supply_demand_ratio"==selectedVar?quantile.domain(i):quantile.domain(rateByStateId.values());var n=quantile.invertExtent(t),r=d3.format(",.0f"),l=d3.format("s"),o=d3.format(".3n"),d=d3.format(".2n"),c=d3.format("");return"total_postings"==selectedVar||"total_supply"==selectedVar?mapW>600?0!=e?r(+n[0]+1)+" - "+r(+n[1]):r(+n[0])+" - "+r(+n[1]):0!=e?l(100*Math.round(+n[0]/100)):"":"location_quotient"==selectedVar?mapW>600?4!=e?0!=e?c(+n[0]+.01)+" - "+c(+n[1]):c(+n[0])+" - "+c(+n[1]):c(+n[0]+.01)+" + ":0!=e?c(+n[0]):"":mapW>600?0!=e?o(+n[0]+.05)+" - "+o(+n[1]):o(+n[0])+" - "+o(+n[1]):0!=e?d(+n[0]+.05):""}var s=rateByMsaId.values().filter(isBigEnough(1.01));quantile.domain(s);var i=[0,.5,.99,1,quantile.invertExtent(quantile.range()[4])[0],quantile.invertExtent(quantile.range()[5])[0],quantile.invertExtent(quantile.range()[6])[1]];"location_quotient"==selectedVar?quantile.domain(a):"supply_demand_ratio"==selectedVar?quantile.domain(i):quantile.domain(rateByMsaId.values());var n=quantile.invertExtent(t),r=d3.format(",.0f"),o=d3.format(".3n"),l=d3.format("s"),d=d3.format(".2n"),c=d3.format("");return"total_postings"==selectedVar||"total_supply"==selectedVar?mapW>600?0!=e?r(+n[0]+1)+" - "+r(+n[1]):r(+n[0])+" - "+r(+n[1]):0!=e?l(Math.round(+n[0])):"":"location_quotient"==selectedVar?mapW>600?4!=e?0!=e?c(+n[0]+.01)+" - "+c(+n[1]):c(+n[0])+" - "+c(+n[1]):c(+n[0]+.01)+" + ":0!=e?c(+n[0]):"":mapW>600?0!=e?o(+n[0]+.05)+" - "+o(+n[1]):o(+n[0])+" - "+o(+n[1]):0!=e?d(+n[0]+.05):""}function drawLegend(){var t=theMap.svg.append("g").attr("class","leg");mapW>600?t.attr("transform","translate("+theMap.width/1.2+","+theMap.height/2.35+")"):330>mapW?t.attr("transform","translate("+theMap.width/2.15+","+.09*theMap.height+")"):t.attr("transform","translate("+theMap.width/1.95+","+.09*theMap.height+")"),t.append("text").attr("class","legendVar").style("font-size",function(){return mapW>600?"12px":"11px"}).text("Total job postings").attr("transform","translate(0,-6)");var e=t.selectAll("g.legendEntry").data(quantile.range()).enter().append("g").attr("class","legendEntry");t.append("rect").attr("x",function(){return mapW>600?0:150}).attr("y",function(){return mapW>600?115:0}).attr("width",20).attr("height",10).attr("fill","#ddd").attr("class","noMsaR"),t.append("text").attr("y",function(){return mapW>600?115:15}).attr("x",function(){return mapW>600?33:159}).attr("dy","0.8em").attr("dx","-0.8em").attr("font-size","10px").attr("class","naTxt").text(function(){return mapW>600?"No MSA":"N/A"}).attr("class","noMsaT"),e.append("rect").attr("y",function(t,e){return mapW>600?16*e:0}).attr("x",function(t,e){return mapW>600?0:21*e}).attr("width",20).attr("height",10).attr("fill",function(t){return t}),e.append("text").attr("y",function(t,e){return mapW>600?16*e:15}).attr("x",function(t,e){return mapW>600?33:21*e}).attr("dy","0.8em").attr("dx","-0.8em").attr("font-size","10px").attr("class","legendTxt").text(function(t,e){return selectedVar=void 0==selectedVar?"total_postings":selectedVar,setLegendLabel(t,e)});var a=d3.select(".leg").node().getBBox();t.insert("rect",":first-child").attr("width",function(){return mapW>600?125:175}).attr("height",a.height+6).attr("y",a.y-3).attr("x",a.x-4).attr("rx",5).attr("ry",5).attr("fill","#fff")}function wrap(t,e){t.each(function(){for(var t,a=d3.select(this),s=a.text().split(/\s+/).reverse(),i=[],n=0,r=1.3,l=a.attr("y"),o=a.attr("x"),d=parseFloat(a.attr("dy")),c=a.text(null).append("tspan").attr("x",o).attr("y",l).attr("dy",d+"em");t=s.pop();)i.push(t),c.text(i.join(" ")),c.node().getComputedTextLength()>e&&(i.pop(),c.text(i.join(" ")),i=[t],c=a.append("tspan").attr("x",o).attr("y",l).attr("dy",++n*r+d+"em").text(t))})}function isBigEnough(t){return function(e){return e>=t}}var formatDecimal=d3.format(".3n"),formatDecimal2=d3.format(".2n"),formatThousand=d3.format(",d"),dataset,csvData,postingsArr=[],theTreeMap,theMap,rateByStateId,rateByMsaId,clickedId=0,quantile,selectedVar,mapW,storedCxStSd,storedCxMsaSd,storedCxStLq,storedCxMsaLq,dataKind="all",heatMap=function(t){this.geo=t.geo,this.element=t.element,this.view=t.view,this.draw(),this.setView(),this.update()};heatMap.prototype.draw=function(){this.setDimensions(),this.svg=d3.select(this.element).append("svg"),this.element.style.width=this.width+"px",this.svg.attr("width",this.width),this.svg.attr("height",this.height),this.centered=null,this.isZoomed=!1,this.maxZoom=2.5,this.lineStroke=1,this.homeButton(),this.plot=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")").attr("class","map-g"),this.plot.append("rect").attr("class","background").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).on("click",function(e){var a=this;t.isZoomed&&t.clicked(e,a)}),this.tooltipDiv=d3.select(this.element).append("div").attr("class","tooltip"),this.resetProjection();for(var t=this,e=this.plot.append("g").attr("class","states-g"),a=e.selectAll("path").data(topojson.feature(this.geo,this.geo.objects.states).features).enter().append("path").attr("d",t.path).attr("class","state feature").attr("id",function(t){return"fips_"+t.id}),s=0;s<a[0].length;s++)a[0][s].__data__.centroidY=this.path.centroid(a[0][s].__data__)[1];a.sort(function(t,e){return d3.ascending(t.centroidY,e.centroidY)});for(var i=this.plot.append("g").attr("class","msas-g"),n=(i.selectAll("stateBckg").data(topojson.feature(this.geo,this.geo.objects.states).features).enter().append("path").attr("d",t.path).attr("class","stateBckg").attr("id",function(t){return"bgfips_"+t.id}).attr("fill","#dddddd").attr("stroke","#fff"),i.selectAll("msa").data(topojson.feature(this.geo,this.geo.objects.msa).features).enter().append("path").attr("d",t.path).attr("class",function(t){return"undefined"!=typeof dataset[t.properties.geoid]?+dataset[t.properties.geoid][0].population<25e4?"msa feature small":+dataset[t.properties.geoid][0].population>1e6?"msa feature large":"msa feature medium":void 0}).attr("id",function(t){return"fips_"+t.properties.geoid})),s=0;s<n[0].length;s++)n[0][s].__data__.centroidY=this.path.centroid(n[0][s].__data__)[1];n.sort(function(t,e){return d3.ascending(t.centroidY,e.centroidY)}),this.setListeners()},heatMap.prototype.setListeners=function(){var t=this;this.plot.selectAll(".feature").on("mouseover",function(e){1!=d3.select(this).classed("active")&&(d3.select(this).classed("active",!0).moveToFront(),d3.select("#fips_"+clickedId).moveToFront(),t.tooltip(e),t.tooltipDiv.style("display","block"))}).on("mouseout",function(){d3.select(this).classed("active",!1),t.tooltipDiv.style("display","none")}).on("mousemove",function(){var e=document.body.getBoundingClientRect(),a=t.element.getBoundingClientRect(),s=a.top-e.top,i=a.left-e.left,n=d3.event.pageX-i,r=d3.event.pageY-s,l=parseInt(t.tooltipDiv.style("width").replace("px",""),10),o=parseInt(t.tooltipDiv.style("height").replace("px",""),10),d=n-l/2,c=r-o-30,p=t.width-l/2;d+l/2>=p&&(d=p-l/2),0>c&&(c=r+30),0>d&&(d=0),t.tooltipDiv.style({top:c+"px",left:d+"px"})}).on("click",function(e){t.tooltipDiv.style("display","none");var a=this;updateTable(e),t.clicked(e,a)})},heatMap.prototype.setColor=function(t){return t?void 0:this.colors.blank},heatMap.prototype.resetProjection=function(){mapW>600?projectionRatio=1:projectionRatio=1.35,this.path=d3.geo.path(),this.projection=d3.geo.albersUsa().scale(this.width*projectionRatio).translate([this.width/2,this.height/2]),this.path.projection(this.projection)},heatMap.prototype.setDimensions=function(){this.width=this.element.offsetWidth,mapW>600?this.height=.46*this.element.offsetWidth:this.height=.76*this.element.offsetWidth,this.margin={top:0,right:0,bottom:0,left:0},600>mapW&&(this.margin.top=25)},heatMap.prototype.setView=function(){var t=this.plot.select(".states-g"),e=this.plot.select(".msas-g");"states"===this.view?(t.style("display","block"),e.style("display","none"),d3.selectAll(".coun").style("display","none"),d3.selectAll(".st").style("display","block"),d3.select("#supply_demand_ratioSvg").select(".avLine").attr("x1",function(t){return storedCxStSd(t.ratio)}).attr("x2",function(t){return storedCxStSd(t.ratio)}),d3.select("#supply_demand_ratioSvg").select(".avTxt").attr("x",function(t){return storedCxStSd(t.ratio)}),d3.select("#supply_demand_ratioSvg").select(".avNum").attr("x",function(t){return storedCxStSd(t.ratio)}),d3.select("#location_quotientSvg").select(".avLine").attr("x1",function(t){return storedCxStLq(t.ratio)}).attr("x2",function(t){return storedCxStLq(t.ratio)}),d3.select("#location_quotientSvg").select(".avTxt").attr("x",function(t){return storedCxStLq(t.ratio)}),d3.select("#location_quotientSvg").select(".avNum").attr("x",function(t){return storedCxStLq(t.ratio)}),d3.selectAll(".legendTxt").text(function(t,e){return setLegendLabel(t,e)}),d3.select("#search").attr("placeholder","Search State"),d3.select(".filterBtns").style("display","none"),d3.selectAll(".noMsaR").style("display","none"),d3.selectAll(".noMsaT").style("display","none")):"msas"===this.view&&(t.style("display","none"),e.style("display","block"),d3.selectAll(".coun").style("display","block"),d3.selectAll(".st").style("display","none"),d3.select("#supply_demand_ratioSvg").select(".avLine").attr("x1",function(t){return storedCxMsaSd(t.ratio)}).attr("x2",function(t){return storedCxMsaSd(t.ratio)}),d3.select("#supply_demand_ratioSvg").select(".avTxt").attr("x",function(t){return storedCxMsaSd(t.ratio)}),d3.select("#supply_demand_ratioSvg").select(".avNum").attr("x",function(t){return storedCxMsaSd(t.ratio)}),d3.select("#location_quotientSvg").select(".avLine").attr("x1",function(t){return storedCxMsaLq(t.ratio)}).attr("x2",function(t){return storedCxMsaLq(t.ratio)}),d3.select("#location_quotientSvg").select(".avTxt").attr("x",function(t){return storedCxMsaLq(t.ratio)}),d3.select("#location_quotientSvg").select(".avNum").attr("x",function(t){return storedCxMsaLq(t.ratio)}),d3.selectAll(".legendTxt").text(function(t,e){return setLegendLabel(t,e)}),d3.select("#search").attr("placeholder","Search Metro Area"),d3.select(".filterBtns").style("display","block"),d3.selectAll(".noMsaR").style("display","block"),d3.selectAll(".noMsaT").style("display","block"))},heatMap.prototype.update=function(){this.setDimensions(),this.svg.attr("width",this.width),this.svg.attr("height",this.height),this.resetProjection(),d3.selectAll(".state").attr("d",this.path),d3.selectAll(".msa").attr("d",this.path),d3.selectAll(".stateBckg").attr("d",this.path),d3.select(".leg").attr("transform","translate("+this.width/1.2+","+this.height/2.35+")"),d3.select(".instr").attr("x",this.width/1.75).attr("y",.08*this.height)},heatMap.prototype.homeButton=function(){var t=this;d3.select(this.element).append("button").attr("class","home-btn").html("&minus; Zoom out").on("click",function(e){var a=this;t.isZoomed&&t.clicked(e,a)})},heatMap.prototype.clicked=function(t,e){var a,s,i;d3.selectAll(".feature").style("stroke-width","1px");var n=this;if("undefined"!=typeof t&&t.id)t&&n.centered!==t?(n.centered=t,n.isZoomed=!0,d3.selectAll(".feature").classed("clicked",!1),d3.selectAll(".feature").classed("active",!1),d3.select(e).moveToFront().classed("centered",!0).classed("clicked",!0).style("stroke-width","3px"),n.isZoomed=!0,clickedId=t.id):(n.centered=null,n.isZoomed=!1,d3.select(e).classed("clicked",!1),d3.selectAll(".feature").classed("clicked",!1),n.isZoomed=!1,clickedId=0,d3.select(".region").html("National level"));else{if(t&&n.centered!==t){var r=n.path.centroid(t);a=r[0],s=r[1],i=n.maxZoom,n.centered=t,d3.selectAll(".feature").classed("clicked",!1),d3.select(e).moveToFront().classed("centered",!0).classed("clicked",!0).style("stroke-width","3px"),n.isZoomed=!0,clickedId="states"===n.view?t.id:t.properties.geoid,d3.select(".home-btn").style("display","block"),n.plot.selectAll(".feature:not(.clicked)").transition().duration(750).style("stroke-width",n.lineStroke/2+"px"),d3.select(".instruction").style("display","none"),n.plot.selectAll(".stateBckg").transition().duration(750).style("stroke-width",n.lineStroke/2+"px")}else a=n.width/2,s=n.height/2-n.margin.top,i=1,n.centered=null,d3.select(e).classed("centered",!1),d3.selectAll(".feature").classed("clicked",!1),n.isZoomed=!1,clickedId=0,d3.select(".home-btn").style("display","none"),n.setListeners(),d3.select(".region").html("National level"),d3.select(".instruction").style("display","block"),d3.selectAll(".qualText").text(""),d3.selectAll(".qualifiers").style("opacity",.4),n.plot.selectAll(".feature").transition().duration(750).style("stroke-width",n.lineStroke+"px"),n.plot.selectAll(".stateBckg").transition().duration(750).style("stroke-width",n.lineStroke+"px");n.plot.classed("zoomed",n.isZoomed),n.zoomScale(i,a,s)}},heatMap.prototype.zoomScale=function(t,e,a){console.log(a);var s=this;s.plot.transition().duration(750).attr("transform","translate("+s.width/2+","+s.height/2+")scale("+t+")translate("+-e+","+-a+")")},heatMap.prototype.tooltip=function(t){var e,a=document.getElementById("drpdn"),s=a.options[a.selectedIndex].text;if(selectedVar=a.options[a.selectedIndex].value,"states"===this.view){var i;i="total_postings"==selectedVar||"total_supply"==selectedVar?formatThousand(+dataset[t.id][0][selectedVar]):formatDecimal(+dataset[t.id][0][selectedVar]),e='<div class="tipStateName"> '+t.properties.state+"</div>",e+='<div class="tipVarName"> '+s+"</div>",e+='<div class="tipVar"> '+i+"</div>"}else if("msas"===this.view){var i;i="total_postings"==selectedVar||"total_supply"==selectedVar?formatThousand(+dataset[t.properties.geoid][0][selectedVar]):formatDecimal(+dataset[t.properties.geoid][0][selectedVar]),e='<div class="tipStateName"> '+t.properties.NAME+"</div>",e+='<div class="tipVarName"> '+s+"</div>",e+='<div class="tipVar"> '+i+"</div>",e+="<div class='more'>&#9432; Click for more info</div>"}d3.select(".tooltip").html(e)},heatMap.prototype.reDraw=function(){var t=this;switch(selectedVar){case"total_postings":quantile.range(colorbrewer.PuBu[7]);break;case"total_supply":quantile.range(["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"]);break;case"supply_demand_ratio":quantile.range(["#2166ac","#5586bd","#7fa7cf","#fef0d9","#faa078","#d75231","#990000"]);break;case"location_quotient":quantile.range(colorbrewer.BuPu[5])}csvData.forEach(function(t){t.fips.toString().length<3&&0!=t.fips?rateByStateId.set(+t.fips,+t[selectedVar]):t.fips.toString().length>3&&0!=t.fips&&rateByMsaId.set(+t.fips,+t[selectedVar])});var e=[0,.67,.83,1.2,1.5,8];d3.selectAll(".feature").transition().duration(500).delay(function(e,a){return"msas"==t.view?1*a:5*a}).attr("fill",function(t){if(t.id){if("supply_demand_ratio"==selectedVar){var a=rateByStateId.values().filter(isBigEnough(1.01));quantile.domain(a);var s=[0,.5,.99,1,quantile.invertExtent(quantile.range()[4])[0],quantile.invertExtent(quantile.range()[5])[0],quantile.invertExtent(quantile.range()[6])[1]];return quantile.domain(s),quantile(rateByStateId.get(t.id))}return"location_quotient"==selectedVar?(quantile.domain(e),quantile(rateByStateId.get(t.id))):(quantile.domain(rateByStateId.values()),quantile(rateByStateId.get(t.id)))}if("undefined"!=typeof t.properties){if("supply_demand_ratio"==selectedVar){var a=rateByMsaId.values().filter(isBigEnough(1.01));quantile.domain(a);var s=[0,.5,.99,1,quantile.invertExtent(quantile.range()[4])[0],quantile.invertExtent(quantile.range()[5])[0],quantile.invertExtent(quantile.range()[6])[1]];return quantile.domain(s),quantile(rateByMsaId.get(t.properties.geoid))}return"location_quotient"==selectedVar?(quantile.domain(e),quantile(rateByMsaId.get(t.properties.geoid))):(quantile.domain(rateByMsaId.values()),quantile(rateByMsaId.get(t.properties.geoid)))}return"#fff"}),d3.select(".leg").remove(),drawLegend();var a=document.getElementById("drpdn"),s=a.options[a.selectedIndex].text;d3.select(".legendVar").text(s)},init("all_data"),$("input.dataK").on("click",function(){var t=document.getElementById("prelC");t.style.display="block";var e=document.getElementById("con");e.style.opacity="0.1",dataKind=$(this).attr("val"),d3.selectAll(".map svg").remove(),d3.selectAll(".map button").remove(),d3.selectAll(".map").selectAll(".tooltip").remove(),$(".geo").prop("checked",!1),$("#states").prop("checked",!0),$("#drpdn").val("total_postings"),$(".supply_demand_qualifier").empty(),$("#supply_demand_ratioChart").empty(),$(".location_quotient_qualifier").empty(),$("#location_quotientChart").empty(),$(".treemap").empty(),$(".barChart").empty(),init(dataKind+"_data"),"all"==dataKind?$(".changeTitle").html("CERTIFICATION HOLDERS / OPENINGS REQUESTING CERTIFICATION<img width='17px' height='15px' src='./images/i_03.png' class='infIcon' rel='6'>"):$(".changeTitle").html("OPENINGS REQUESTING CERTIFICATION<img width='17px' height='15px' src='./images/i_03.png' class='infIcon' rel='6'>")}),d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},d3.selection.prototype.moveToBack=function(){return this.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)})};